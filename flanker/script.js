// Define study
const study = lab.util.fromObject({
  title: "root",
  type: "lab.flow.Sequence",
  plugins: [
    {
      type: "lab.plugins.Metadata",
      path: undefined,
    },
    {
      type: "lab.plugins.Transmit",
      url: "backend.php",
      path: undefined,
    },
  ],
  metadata: {
    title: "Flanker Task",
    description:
      "This study implements a version of the Eriksen Flanker Task, though using arrows in place of letters. The target stimulus is surrounded by four distractor stimuli, and the array appears at different locations on the screen to increase difficulty.\n\nEriksen, B. A., & Eriksen, C. W. (1974). Effects of noise letters upon identification of a target letter in a non-search task. Perception and Psychophysics. 16: 143–149.",
    repository:
      "https:\u002F\u002Fgithub.com\u002FFelixHenninger\u002Flab.js\u002Ftree\u002Fmaster\u002Fexamples\u002FFlanker Task",
    contributors: "Michael Kriechbaumer",
  },
  parameters: {},
  files: {},
  messageHandlers: {},
  responses: {},
  content: [
    {
      type: "lab.html.Screen",
      responses: {
        "keypress(Space)": "Start",
      },
      messageHandlers: {},
      title: "Instructions",
      content:
        '\u003Cheader\u003E\r\n  \u003Ch2\u003EYour task\u003C\u002Fh2\u003E\r\n\u003C\u002Fheader\u003E\r\n\r\n\u003Cmain class="content-vertical-center content-horizontal-center"\u003E\r\n  \u003Cdiv class="w-m text-justify"\u003E\r\n    \u003Cp\u003E\u003Cstrong\u003EIn the following task, we will show you an row of arrows pointing in different directions. Your task will be to indicate in which direction the central arrow is pointing.\u003C\u002Fstrong\u003E You can safely ignore the symbols to its left and right.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EPlease respond with the arrow keys, \u003Ckbd\u003E&larr;\u003C\u002Fkbd\u003E or the \u003Ckbd\u003E&rarr;\u003C\u002Fkbd\u003E corresponding to the direction of the central arrow: If it points left, please press the \u003Ckbd\u003E&larr;\u003C\u002Fkbd\u003E key; if it points right, please press the \u003Ckbd\u003E&rarr;\u003C\u002Fkbd\u003E key. Again, the direction of the other arrows shouldn\'t matter for your response.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EPlease respond as quickly and accurately as you can.\u003C\u002Fp\u003E\r\n  \u003C\u002Fdiv\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  Press \u003Ckbd\u003ESpace\u003C\u002Fkbd\u003E to start.\r\n\u003C\u002Ffooter\u003E',
      parameters: {},
      files: {},
    },
    {
      type: "lab.flow.Loop",
      templateParameters: [
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "right",
        },
        {
          orientation: "left",
          congruency: "congruent",
          target: "&larr;",
          flanker: "&larr;",
          position: "right",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "right",
        },
        {
          orientation: "left",
          congruency: "incongruent",
          target: "&larr;",
          flanker: "&rarr;",
          position: "right",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "center",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "left",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "right",
        },
        {
          orientation: "left",
          congruency: "neutral",
          target: "&larr;",
          flanker: "&#9633;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "congruent",
          target: "&rarr;",
          flanker: "&rarr;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "incongruent",
          target: "&rarr;",
          flanker: "&larr;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "center",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "left",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "right",
        },
        {
          orientation: "right",
          congruency: "neutral",
          target: "&rarr;",
          flanker: "&#9633;",
          position: "right",
        },
      ],
      responses: {
        "": "",
      },
      messageHandlers: {},
      title: "Task",
      parameters: {},
      files: {},
      sample: {
        mode: "draw-shuffle",
      },
      shuffleGroups: [],
      template: {
        type: "lab.flow.Sequence",
        responses: {
          "": "",
        },
        messageHandlers: {},
        title: "Trial",
        parameters: {},
        files: {},
        content: [
          {
            type: "lab.html.Screen",
            responses: {
              "": "",
            },
            messageHandlers: {},
            title: "Empty Screen",
            content:
              "\u003Cmain\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  \u003Cstrong\u003EWhich way is the central arrow pointing?\u003C\u002Fstrong\u003E\u003Cbr\u003E\r\n  Please respond using the arrow keys, \u003Ckbd\u003E&larr;\u003C\u002Fkbd\u003E for &larr; and \u003Ckbd\u003E&rarr;\u003C\u002Fkbd\u003E for &rarr;.\r\n\u003C\u002Ffooter\u003E",
            timeout: "150",
            parameters: {},
            files: {},
          },
          {
            type: "lab.html.Screen",
            responses: {
              "keydown(ArrowLeft)": "left",
              "keydown(ArrowRight)": "right",
            },
            messageHandlers: {},
            title: "Trial",
            content:
              '\u003Cmain class="content-vertical-center content-horizontal-${ parameters.position }"\u003E\r\n\r\n  \u003Ctable class="table-plain flanker-table"\u003E\r\n    \u003Ctr\u003E\r\n      \u003Ctd\u003E ${ parameters.flanker } \u003C\u002Ftd\u003E\r\n      \u003Ctd\u003E ${ parameters.flanker } \u003C\u002Ftd\u003E\r\n      \u003Ctd\u003E ${ parameters.target } \u003C\u002Ftd\u003E\r\n      \u003Ctd\u003E ${ parameters.flanker } \u003C\u002Ftd\u003E\r\n      \u003Ctd\u003E ${ parameters.flanker } \u003C\u002Ftd\u003E\r\n    \u003C\u002Ftr\u003E\r\n  \u003C\u002Ftable\u003E\r\n\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  \u003Cstrong\u003EWhich way is the central arrow pointing?\u003C\u002Fstrong\u003E\u003Cbr\u003E\r\n  Please respond using the arrow keys, \u003Ckbd\u003E&larr;\u003C\u002Fkbd\u003E for &larr; and \u003Ckbd\u003E&rarr;\u003C\u002Fkbd\u003E for &rarr;.\r\n\u003C\u002Ffooter\u003E',
            correctResponse: "${ parameters.orientation }",
            parameters: {},
            files: {},
          },
          {
            type: "lab.html.Screen",
            responses: {
              "": "",
            },
            messageHandlers: {},
            title: "Feedback",
            content:
              '\u003Cmain class="content-vertical-center content-horizontal-center" id="feedback"\u003E\r\n  \u003Cspan\r\n    style="color: ${ state.correct ? \'green\' : \'red\' }; font-size: 3rem"\r\n  \u003E\r\n    ⬤\r\n  \u003C\u002Fspan\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  \u003Cstrong\u003EWhich way is the central arrow pointing?\u003C\u002Fstrong\u003E\u003Cbr\u003E\r\n  Please respond using the arrow keys, \u003Ckbd\u003E&larr;\u003C\u002Fkbd\u003E for &larr; and \u003Ckbd\u003E&rarr;\u003C\u002Fkbd\u003E for &rarr;.\r\n\u003C\u002Ffooter\u003E',
            tardy: true,
            timeout: "500",
            parameters: {},
            files: {},
          },
        ],
      },
    },
    {
      type: "lab.html.Screen",
      responses: {
        "": "",
      },
      messageHandlers: {},
      title: "End",
      content:
        '\u003Cheader\u003E\r\n  \u003Ch2\u003ETask complete\u003C\u002Fh2\u003E\r\n\u003C\u002Fheader\u003E\r\n\r\n\u003Cmain class="content-vertical-center content-horizontal-center"\u003E\r\n  \u003Cdiv class="w-s"\u003E\r\n    \u003Cp\u003EThank you for completing this task!\u003C\u002Fp\u003E\r\n  \u003C\u002Fdiv\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  You may now close this window.\r\n\u003C\u002Ffooter\u003E',
      parameters: {},
      files: {},
    },
  ],
})

// Let's go!
study.run()
